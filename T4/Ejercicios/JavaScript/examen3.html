<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Ejercicio 3 - Con Inputs</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }

        .formulario {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .grupo-input {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        input,
        select {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        button {
            background-color: #2c3e50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }

        button:hover {
            background-color: #34495e;
        }

        .resultado {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #27ae60;
            background: #e8f8f5;
            display: none;
        }

        .error {
            border-left-color: #c0392b;
            background: #fadbd8;
        }
    </style>
</head>

<body>

    <h2>Ejercicio 3: Entrada por Formulario</h2>

    <div class="formulario">
        <div class="grupo-input">
            <label>1. Valor Booleano (A):</label>
            <select id="bool1">
                <option value="">-- Selecciona --</option>
                <option value="true">True (Verdadero)</option>
                <option value="false">False (Falso)</option>
            </select>
        </div>
        <div class="grupo-input">
            <label>2. Valor Booleano (B):</label>
            <select id="bool2">
                <option value="">-- Selecciona --</option>
                <option value="true">True (Verdadero)</option>
                <option value="false">False (Falso)</option>
            </select>
        </div>

        <div class="grupo-input">
            <label>3. Cadena de texto (A):</label>
            <input type="text" id="str1" placeholder="Ej: Hola">
        </div>
        <div class="grupo-input">
            <label>4. Cadena de texto (B):</label>
            <input type="text" id="str2" placeholder="Ej: Adiós">
        </div>

        <div class="grupo-input">
            <label>5. Número (A):</label>
            <input type="number" id="num1" placeholder="Ej: 5">
        </div>
        <div class="grupo-input">
            <label>6. Número (B):</label>
            <input type="number" id="num2" placeholder="Ej: 2">
        </div>

        <button onclick="capturarYProcesar()">Procesar Datos</button>
    </div>

    <div id="output" class="resultado"></div>

    <script>
        function capturarYProcesar() {
            // 1. Capturamos los valores "crudos" del HTML
            const valB1 = document.getElementById('bool1').value;
            const valB2 = document.getElementById('bool2').value;
            const valS1 = document.getElementById('str1').value;
            const valS2 = document.getElementById('str2').value;
            const valN1 = document.getElementById('num1').value;
            const valN2 = document.getElementById('num2').value;

            // 2. Preparamos el array convirtiendo los tipos correctamente.
            // Si el campo está vacío, asignamos 'null' para cumplir con el requisito del ejercicio.
            let datos = [
                valB1 === "" ? null : (valB1 === "true"), // Convertir "true" string a true booleano
                valB2 === "" ? null : (valB2 === "true"),
                valS1 === "" ? null : valS1,
                valS2 === "" ? null : valS2,
                valN1 === "" ? null : Number(valN1),      // Convertir string a Number
                valN2 === "" ? null : Number(valN2)
            ];

            // 3. Llamamos a la lógica de procesamiento (la misma del ejercicio anterior)
            ejecutarLogica(datos);
        }

        function ejecutarLogica(valores) {
            const div = document.getElementById('output');
            div.style.display = 'block';
            div.className = 'resultado'; // Reset de clase por si hubo error antes
            div.innerHTML = "";

            // --- VALIDACIÓN DE NULOS ---
            if (valores.includes(null)) {
                div.className += ' error'; // Estilo rojo
                div.innerHTML = "<strong>Error:</strong> Faltan datos por rellenar (elementos nulos detectados).<br>Por favor, introduce todos los valores nuevamente.";
                return;
            }

            // A partir de aquí, sabemos que los datos son válidos

            // Separación
            let booleanos = valores.filter(d => typeof d === 'boolean');
            let numeros = valores.filter(d => typeof d === 'number');
            let cadenas = valores.filter(d => typeof d === 'string');

            // --- LÓGICA DEL EJERCICIO ---

            // Mayor texto
            let mayorTexto = cadenas[0].length > cadenas[1].length ? cadenas[0] : cadenas[1];
            // Nota: Aquí comparo longitud o orden alfabético según prefieras. 
            // El ejercicio suele referirse a orden alfabético ("hola" > "adiós"), así que lo mantengo:
            mayorTexto = cadenas[0] > cadenas[1] ? cadenas[0] : cadenas[1];

            // Operaciones lógicas
            let resAND = booleanos[0] && booleanos[1];
            let resOR = booleanos[0] || booleanos[1];

            // Operaciones aritméticas
            let suma = numeros[0] + numeros[1];
            let resta = numeros[0] - numeros[1];

            // Ordenación Final (Bools -> Cadenas -> Numeros Descendentes)
            booleanos.sort((a, b) => b - a); // true va antes que false
            cadenas.sort((a, b) => b.localeCompare(a)); // Z a A
            numeros.sort((a, b) => b - a); // Mayor a menor

            let ordenados = [...booleanos, ...cadenas, ...numeros];

            // --- MOSTRAR RESULTADOS ---
            div.innerHTML = `
                <h3>Resultados:</h3>
                <ul>
                    <li><strong>Cadena Mayor (alfabéticamente):</strong> ${mayorTexto}</li>
                    <li><strong>Operaciones Lógicas:</strong> AND = ${resAND}, OR = ${resOR}</li>
                    <li><strong>Operaciones Aritméticas:</strong> Suma = ${suma}, Resta = ${resta}</li>
                    <li><strong>Array Ordenado:</strong> [${ordenados.map(v => typeof v === 'string' ? `"${v}"` : v).join(', ')}]</li>
                </ul>
            `;
        }
    </script>

</body>

</html>